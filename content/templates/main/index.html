{% extends 'layouts/default/page.html' %}

{% load i18n %}

{% block head %}
  {% if request.user.is_authenticated %}
  {% load static %}
  <link rel="stylesheet" href="{% static 'lib/style.css' %}">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
      jQuery.fn.outerHTML = function() {
        return jQuery('<div />').append(this.eq(0).clone()).html();
      };
      Number.prototype.countDecimals = function () {
        if(Math.floor(this.valueOf()) === this.valueOf()) return 0;
        return this.toString().split(".")[1].length || 0; 
      }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/3.6.3/fabric.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/spectrum-colorpicker2/dist/spectrum.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/spectrum-colorpicker2/dist/spectrum.min.css">

    <script src="{% static 'vendor/grapick.min.js' %}"></script>
    <link rel="stylesheet" href="{% static 'vendor/grapick.min.css' %}">

    <script src="{% static 'vendor/undo-redo-stack.js' %}"></script>

    <script src="{% static 'lib/core.js' %}"></script>
    <script src="{% static 'lib/toolbar.js' %}"></script>
    <script src="{% static 'lib/canvas.js' %}"></script>
    <script src="{% static 'lib/wall.js' %}"></script>
    <script src="{% static 'lib/shapes.js' %}"></script>

    <script src="{% static 'lib/freeDrawSettings.js' %}"></script>
    <script src="{% static 'lib/canvasSettings.js' %}"></script>
    <script src="{% static 'lib/selectionSettings.js' %}"></script>

    <script src="{% static 'lib/drawingLine.js' %}"></script>
    <script src="{% static 'lib/drawingPath.js' %}"></script>
    <script src="{% static 'lib/drawingText.js' %}"></script>
    <script src="{% static 'lib/tip.js' %}"></script>
    <script src="{% static 'lib/upload.js' %}"></script>
    <script src="{% static 'lib/copyPaste.js' %}"></script>

    <script src="{% static 'lib/utils.js' %}"></script>
    <script src="{% static 'lib/zoom.js' %}"></script>
    <script src="{% static 'lib/saveInBrowser.js' %}"></script>
  {% endif %}
{% endblock %}

{% block content %}
  {% if request.user.is_authenticated %}
    <div id="image-editor-container"></div>
    <script src="{% static 'lib/script.js' %}"></script>
  {% else %}
    {% trans 'You are a guest.' %}
  {% endif %}
{% endblock %}